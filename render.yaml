services:
  - type: web
    name: auto-crud-backend
    runtime: node
    plan: starter
    buildCommand: cd server && npm install
    startCommand: cd server && npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        fromService:
          type: web
          name: auto-crud-backend
          property: port
      - key: JWT_SECRET
        generateValue: true
      - key: CORS_ORIGIN
        sync: false  # Set this to your Vercel frontend URL after deployment
      # Database configuration (SQLite - for persistent storage, use Render Disk)
      # If using PostgreSQL, uncomment and configure:
      # - key: DATABASE_URL
      #   fromDatabase:
      #     name: auto-crud-db
      #     property: connectionString

# Optional: PostgreSQL Database (recommended for production)
# databases:
#   - name: auto-crud-db
#     plan: starter
#     databaseName: auto_crud
#     user: auto_crud_user

